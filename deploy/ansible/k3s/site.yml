---
# Sub2API 基础设施部署
# Ansible 只负责基础设施，应用由 ArgoCD 管理
# 用法: ansible-playbook -i inventory.yml site.yml

- name: 基础环境初始化
  import_playbook: playbooks/01-base.yml

- name: K3s Server
  import_playbook: playbooks/03-k3s-server.yml

- name: SSH 安全加固
  import_playbook: playbooks/07-ssh-security.yml

- name: ArgoCD (GitOps)
  import_playbook: playbooks/10-argocd.yml

# ArgoCD 会自动部署以下应用:
# - auth (LLDAP + Authelia)
# - monitoring (Grafana + Prometheus + Loki + Tempo)
# - ops (Homarr + Next Terminal)
